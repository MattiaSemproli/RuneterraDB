<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

	<head>
		<title>RuneterraDB | Wiki</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../assets/css/main.css" />
		<link rel="stylesheet" href="../assets/css/centerBox.css" />
		<noscript>
			<link rel="stylesheet" href="../assets/css/noscript.css" />
		</noscript>
	</head>

	<body class="is-preload">

		<!-- Header -->
		<header id="header" class="alt">
			<h1><a href="index.html">RuneterraDB</a></h1>
			<nav>
				<a href="#menu">Menu</a>
			</nav>
		</header>

		<!-- Menu -->
		<nav id="menu">
			<div class="inner">
				<h2>Menu</h2>
				<ul class="links">
					<li><a href="index.html">Home</a></li>
					<li><a href="gtc.html">Guess the champion</a></li>
					<li><a href="login.html">Log In</a></li>
					<li><a href="registration.html">Sign Up</a></li>
				</ul>
				<a href="#" class="close">Close</a>
			</div>
		</nav>

		<!-- Center -->
		<div id="box">
			<div id="championsBox">
			</div>
			<script>
				const champsList = document.getElementById('championsBox');
				window.addEventListener('load', function() {
					var xhr = new XMLHttpRequest();
					xhr.open('GET', '../php/getChampionWiki.php', true);
					xhr.onload = function() {
						if (xhr.status === 200) {
							var data = JSON.parse(xhr.responseText);
							load(data);
						} else {
							console.log('Errore nella richiesta: ' + xhr.status);
						}
					};
					xhr.send();
				});

				function load(data) {
					for (var i = 0; i < data.length; i++) {
						var box = document.createElement("div");

						var item = new Image();
						var imageUrl = "../sources/ChampionsIcon/"+ data[i][0].replaceAll(' ','') +"_0.jpg";
						item.src = imageUrl;
						item.width = 75;
						item.height = 75;
						item.style.margin = "15px";
						item.style.borderRadius = "15px";
						
						var name = document.createElement("div");
						name.textContent = data[i][0];
						name.style.fontSize = "15px";
						name.style.opacity = "0";
						name.classList.add("championsName");

						item.onclick = (function(url) {
							return function() {
								window.open(url, "_blank");
							}
						})(imageUrl);
					
						item.onmouseover = function() {
							this.style.opacity = ".4";
							name.style.opacity = "1";
						};
						item.onmouseout = function() {
							this.style.opacity = "1";
							name.style.opacity = "0";
						};

						box.appendChild(name);
						box.appendChild(item);

						champsList.appendChild(box);
					}
				}

				function loadData(data) {
					for (var i = 0; i < data.length; i++) {
						var item = new Image();
						var imageUrl = "../sources/ChampionsIcon/"+ data[i][0].replaceAll(' ','') +"_0.jpg";
						item.src = imageUrl;
						item.width = 75;
						item.height = 75;
						item.style.margin = "15px";
						item.style.borderRadius = "15px";
						item.onclick = (function(url) {
							return function() {
								window.open(url, "_blank");
							}
						})(imageUrl);
						item.setAttribute("title", data[i][0]);
						item.onmouseover = function() {
							this.style.opacity = "0.4";

						};
						item.onmouseout = function() {
							this.style.opacity = "1.0";
						};
						champsList.appendChild(item);
					}
				}
			</script>
		</div>

		<!-- Footer -->
		<footer id="footer">
			<div class="inner">
				<ul class="copyright">
					<li>&copy; All rights reserved to Mattia Semproli & Martino Pagliarani</li>
				</ul>
			</div>
			</section>

			<!-- Scripts -->
			<script src="../assets/js/jquery.min.js"></script>
			<script src="../assets/js/jquery.scrollex.min.js"></script>
			<script src="../assets/js/browser.min.js"></script>
			<script src="../assets/js/breakpoints.min.js"></script>
			<script src="../assets/js/util.js"></script>
			<script src="../assets/js/main.js"></script>

	</body>

</html>